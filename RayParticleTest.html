<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>SpaceGame</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="res/css/lib/bootstrap.css" />
    <link rel="stylesheet" href="res/css/lib/sb-admin-2.css" />
    <link rel="stylesheet" href="res/css/index.css" />

    <!-- Javascript -->
    <script src="res/js/lib/jquery-2.2.4.min.js"></script>
    <script src="res/js/lib/bootstrap.min.js"></script>
    <script src="res/js/lib/threejs/three.js"></script>
    <script src="res/js/lib/threejs/tween.min.js"></script>

    <!-- custom -->
    <script src="app/RayParticleRenderer.js"></script>

    <script>

        console.log("hallo!");

        var camera, scene, renderer;
        $(function() {

            var particleRenderer;
            var particleRenderer2;


            init();
            animate();

            function init() {
                window.addEventListener("resize", onWindowResize, false);

                // HTML-Container erzeugen
                container = document.createElement('div');
                document.body.appendChild(container);

                // Kamera und Szene erzeugen
                scene = new THREE.Scene();
                scene.fog = new THREE.FogExp2(0x000000, 0.0009);
                camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 2000);
                camera.position.set(12, 15, -20);
                camera.lookAt(scene.position);

                // Renderer
                renderer = new THREE.WebGLRenderer({antialias: true, alpha: true});
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setSize(window.innerWidth, window.innerHeight);
                container.appendChild(renderer.domElement);

                scene.add(new THREE.AmbientLight(0x404040));

                var axes = new THREE.AxisHelper(50);
                scene.add(axes); // rot: x, blau: y, gr√ºn: z

                var gridXZ = new THREE.GridHelper(10, 1);
                scene.add(gridXZ);





                particleRenderer = new RayParticleRenderer(
                        0xffffff,
                        100,
                        "res/textures/particle.png",
                        new THREE.Vector3(2, 1, 7),
                        new THREE.Vector3(1, 2, 3)
                );

                particleRenderer2 = new RayParticleRenderer(
                        0xff0000,
                        100,
                        "res/textures/particle.png",
                        new THREE.Vector3(-3, 6, 1),
                        new THREE.Vector3(3, 2, 0)
                );

            }

            function animate() {

                requestAnimationFrame(animate);
                render();
            }

            function render() {

                particleRenderer.update();
                particleRenderer2.update();

                renderer.render(scene, camera);
            }

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }


        });
    </script>

</head>

<body>


</body>

</html>